!function(e){"use strict";function t(e){var t=e||{};return this.settings={bodyClassPrefix:t.bodyClassPrefix||"in-section-",sectionClass:t.sectionClass||"animated-section",mobileWidth:t.mobileWidth||640},this.sectionElements=document.getElementsByClassName(this.settings.sectionClass),this.sectionElements||console.error('Could not find any elements with the class "'+this.settings.sectionClass+'".'),this.lastWindowHeight=window.innerHeight,this.inRAF=!1,this.lastYOffset=window.pageYOffset,this.sectionMap=this._computeSectionMap(),this._onScroll(),this}t.prototype._computeSectionMap=function(){var e=[];return[].forEach.call(this.sectionElements,function(t){console.log(this.lastWindowHeight),e.push({element:t,begin:Math.max(t.offsetTop-this.lastWindowHeight/2,0),end:t.offsetTop-this.lastWindowHeight/2+t.clientHeight,sectionId:t.dataset.sectionId})}.bind(this)),e},t.prototype._onScroll=function(){for(var e=0;e<this.sectionMap.length;e++)if(this.lastYOffset>=this.sectionMap[e].begin&&this.lastYOffset<this.sectionMap[e].end){var t=document.body.className,i=this.settings.bodyClassPrefix+this.sectionMap[e].sectionId,n=new RegExp(this.settings.bodyClassPrefix+".+ ","g");t=t.replace(n,""),t=t.replace("  "," "),t+=" "+i+" ",document.body.className=t}this.inRAF=!1},t.prototype._getOnScroll=function(){var e=this,t=function(){e.lastYOffset=window.pageYOffset,e.inRAF||(e.inRAF=!0,window.requestAnimationFrame(e._onScroll.bind(e)))};return t},t.prototype._onResize=function(){this.sectionMap=this._computeSectionMap(),this._onScroll()},t.prototype._getOnResize=function(){var e=this,t=function(){e.lastWindowHeight=window.innerHeight,e.inRAF||(e.inRAF=!0,window.requestAnimationFrame(e._onResize.bind(e)))};return t},t.prototype.enable=function(){this.onScroll=this._getOnScroll(),this.onResize=this._getOnResize(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),window.addEventListener("orientationchange",this.onResize)},t.prototype.disable=function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("orientationchange",this.onResize)},"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&module.exports?module.exports=t:e.Sections=t}(this);
//# sourceMappingURL=dist/js/sections.js.map
